<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Mona Montreux Assistant</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        /* ========================================================================
           GLOBAL SETTINGS
        ======================================================================== */
        * {
            box-sizing: border-box;
        }
        
        html, body {
            margin: 0;
            padding: 0;
            background: transparent;
            overflow: visible;
            height: 100%;
            width: 100%;
            font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* ========================================================================
           CHATBOT WRAPPER
        ======================================================================== */
        #chatbot-wrapper {
            position: fixed;
            bottom: 24px;
            right: 24px;
            pointer-events: none;
            z-index: 999999;
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            gap: 12px;
        }

        /* Mobile adjustments */
        @media (max-width: 480px) {
            #chatbot-wrapper {
                bottom: 16px;
                right: 16px;
                left: 16px;
                align-items: stretch;
            }
        }

        /* ========================================================================
           LAUNCHER BUTTON
        ======================================================================== */
        #hotel-chatbot-launcher {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            padding: 0 20px;
            height: 56px;
            background: linear-gradient(135deg, #0b7dda 0%, #0a5fb1 100%);
            border-radius: 28px;
            border: none;
            cursor: pointer;
            color: #fff;
            pointer-events: all;
            animation: floaty 3s ease-in-out infinite;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 8px 24px rgba(11, 125, 218, 0.3);
            font-family: inherit;
        }
        
        #hotel-chatbot-launcher:hover {
            transform: translateY(-2px) scale(1.02);
            box-shadow: 0 12px 32px rgba(11, 125, 218, 0.4);
        }
        
        #hotel-chatbot-launcher:active {
            transform: translateY(0) scale(0.98);
        }
        
        .launcher-icon { 
            font-size: 24px;
            line-height: 1;
        }
        
        .launcher-text { 
            font-size: 15px; 
            font-weight: 600; 
            white-space: nowrap;
            letter-spacing: -0.01em;
        }

        @keyframes floaty {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-6px); }
        }

        @media (max-width: 480px) {
            #hotel-chatbot-launcher {
                width: 100%;
                justify-content: center;
            }
        }

        /* ========================================================================
           CHAT WINDOW
        ======================================================================== */
        #hotel-chatbot {
            position: fixed;
            bottom: 90px;
            right: 24px;
            width: 400px;
            max-width: calc(100vw - 48px);
            height: 600px;
            max-height: calc(100vh - 140px);
            background: white;
            border-radius: 16px;
            display: none;
            opacity: 0;
            visibility: hidden;
            flex-direction: column;
            overflow: hidden;
            pointer-events: all;
            transform: translateY(20px) scale(0.95);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
        }
        
        #hotel-chatbot.open {
            display: flex;
            opacity: 1;
            visibility: visible;
            transform: translateY(0) scale(1);
        }

        @media (max-width: 480px) {
            #hotel-chatbot {
                position: fixed;
                bottom: 0;
                right: 0;
                left: 0;
                top: 0;
                width: 100%;
                height: 100%;
                max-width: 100%;
                max-height: 100%;
                border-radius: 0;
                transform: translateY(100%);
            }
            
            #hotel-chatbot.open {
                transform: translateY(0);
            }
        }

        /* ========================================================================
           HEADER
        ======================================================================== */
        #hotel-chatbot-header {
            background: linear-gradient(135deg, #0b7dda 0%, #0a5fb1 100%);
            color: white;
            padding: 16px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        
        .header-content {
            display: flex;
            align-items: center;
            gap: 12px;
            flex: 1;
        }
        
        #hotel-chatbot-header img {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            object-fit: cover;
            background: white;
            padding: 2px;
        }
        
        .header-text {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }
        
        .header-title {
            font-size: 16px;
            font-weight: 600;
            letter-spacing: -0.01em;
            line-height: 1.2;
        }
        
        .header-subtitle {
            font-size: 13px;
            opacity: 0.9;
            line-height: 1.2;
        }
        
        #hotel-chatbot-close {
            font-size: 28px;
            color: white;
            background: none;
            border: none;
            cursor: pointer;
            transition: all 0.2s ease;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            line-height: 1;
            padding: 0;
            margin: 0;
        }
        
        #hotel-chatbot-close:hover {
            background: rgba(255, 255, 255, 0.15);
        }
        
        #hotel-chatbot-close:active {
            background: rgba(255, 255, 255, 0.25);
        }

        /* ========================================================================
           MESSAGES AREA
        ======================================================================== */
        #hotel-chatbot-messages {
            flex: 1;
            background: #f8f9fb;
            padding: 16px;
            overflow-y: auto;
            scroll-behavior: smooth;
        }
        
        #hotel-chatbot-messages::-webkit-scrollbar {
            width: 8px;
        }
        
        #hotel-chatbot-messages::-webkit-scrollbar-track {
            background: transparent;
        }
        
        #hotel-chatbot-messages::-webkit-scrollbar-thumb {
            background: #d0d5dd;
            border-radius: 10px;
        }
        
        #hotel-chatbot-messages::-webkit-scrollbar-thumb:hover {
            background: #b8bfc9;
        }

        /* ========================================================================
           CHAT MESSAGES
        ======================================================================== */
        .chat-message-row {
            display: flex;
            margin-bottom: 16px;
            animation: slideIn 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .chat-message-row.user {
            justify-content: flex-end;
        }
        
        .chat-message-row.bot {
            justify-content: flex-start;
        }

        .chat-bubble {
            padding: 12px 16px;
            border-radius: 16px;
            max-width: 85%;
            font-size: 14.5px;
            line-height: 1.5;
            letter-spacing: -0.01em;
            word-wrap: break-word;
            white-space: pre-wrap;
        }
        
        .chat-bubble.user {
            background: linear-gradient(135deg, #0b7dda 0%, #0a5fb1 100%);
            color: white;
            border-bottom-right-radius: 4px;
            box-shadow: 0 2px 8px rgba(11, 125, 218, 0.25);
        }
        
        .chat-bubble.bot {
            background: white;
            color: #1a1a1a;
            border-bottom-left-radius: 4px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
            border: 1px solid #e5e7eb;
        }
        
        /* Support for bold text rendering */
        .chat-bubble strong,
        .chat-bubble b {
            font-weight: 600;
            color: inherit;
        }
        
        /* Support for links if needed */
        .chat-bubble a {
            color: #0b7dda;
            text-decoration: underline;
            word-break: break-all;
        }
        
        .chat-bubble.user a {
            color: rgba(255, 255, 255, 0.95);
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(8px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* ========================================================================
           TYPING INDICATOR
        ======================================================================== */
        .typing {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 4px 0;
        }
        
        .typing-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #9ca3af;
            animation: bounce 1.4s infinite ease-in-out;
        }
        
        .typing-dot:nth-child(1) { animation-delay: 0s; }
        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }
        
        @keyframes bounce {
            0%, 60%, 100% {
                transform: translateY(0);
                opacity: 0.6;
            }
            30% {
                transform: translateY(-8px);
                opacity: 1;
            }
        }

        /* ========================================================================
           QUICK REPLIES (STARTER OPTIONS)
        ======================================================================== */
        #quick-replies {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            padding: 12px 16px;
            background: #f8f9fb;
            border-top: 1px solid #e5e7eb;
        }
        
        .quick-reply {
            background: white;
            color: #0b7dda;
            padding: 10px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 13.5px;
            font-weight: 500;
            border: 1.5px solid #e5e7eb;
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            user-select: none;
            letter-spacing: -0.01em;
        }
        
        .quick-reply:hover {
            background: #0b7dda;
            color: white;
            border-color: #0b7dda;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(11, 125, 218, 0.2);
        }
        
        .quick-reply:active {
            transform: translateY(0);
        }

        /* ========================================================================
           INPUT AREA
        ======================================================================== */
        #hotel-chatbot-input-area {
            padding: 16px;
            display: flex;
            gap: 10px;
            border-top: 1px solid #e5e7eb;
            background: white;
        }
        
        #hotel-chatbot-input {
            flex: 1;
            border-radius: 24px;
            border: 1.5px solid #d1d5db;
            padding: 12px 18px;
            font-size: 14.5px;
            font-family: inherit;
            transition: all 0.2s ease;
            background: #f9fafb;
        }
        
        #hotel-chatbot-input::placeholder {
            color: #9ca3af;
        }
        
        #hotel-chatbot-input:focus {
            outline: none;
            border-color: #0b7dda;
            background: white;
            box-shadow: 0 0 0 3px rgba(11, 125, 218, 0.1);
        }
        
        #hotel-chatbot-send {
            background: linear-gradient(135deg, #0b7dda 0%, #0a5fb1 100%);
            color: white;
            border: none;
            border-radius: 24px;
            padding: 12px 24px;
            cursor: pointer;
            font-weight: 600;
            font-size: 14.5px;
            font-family: inherit;
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            letter-spacing: -0.01em;
            box-shadow: 0 2px 8px rgba(11, 125, 218, 0.2);
        }
        
        #hotel-chatbot-send:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(11, 125, 218, 0.3);
        }
        
        #hotel-chatbot-send:active {
            transform: translateY(0);
        }
        
        #hotel-chatbot-send:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        /* ========================================================================
           ERROR MESSAGE STYLING
        ======================================================================== */
        .error-message {
            background: #fef2f2;
            border: 1px solid #fecaca;
            color: #991b1b;
            padding: 12px 16px;
            border-radius: 12px;
            font-size: 13.5px;
            margin: 8px 0;
            line-height: 1.5;
        }

        /* ========================================================================
           UTILITY CLASSES
        ======================================================================== */
        .hidden {
            display: none !important;
        }
        
        .fade-in {
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
    </style>
</head>

<body>

<div id="chatbot-wrapper">
    <button id="hotel-chatbot-launcher" aria-label="Open chat">
        <span class="launcher-icon">ðŸ’¬</span>
        <span class="launcher-text">Chat with us</span>
    </button>

    <div id="hotel-chatbot" role="dialog" aria-labelledby="chat-title">
        <div id="hotel-chatbot-header">
            <div class="header-content">
                <img 
                    alt="Mona Montreux logo"
                    src="data:image/png;base64,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" 
                />
                <div class="header-text">
                    <span class="header-title" id="chat-title">Mona Montreux Assistant</span>
                    <span class="header-subtitle">Lakeside Hotel â€¢ Montreux</span>
                </div>
            </div>
            <button id="hotel-chatbot-close" aria-label="Close chat">Ã—</button>
        </div>

        <div id="hotel-chatbot-messages" role="log" aria-live="polite"></div>

        <div id="quick-replies" role="group" aria-label="Quick reply options"></div>

        <div id="hotel-chatbot-input-area">
            <input 
                id="hotel-chatbot-input" 
                type="text"
                placeholder="Ask anything..." 
                aria-label="Type your message"
                autocomplete="off"
            />
            <button 
                id="hotel-chatbot-send" 
                aria-label="Send message"
            >
                Send
            </button>
        </div>
    </div>
</div>

<script>
/* ========================================================================
   CONFIGURATION
========================================================================= */
const CONFIG = {
    WEBHOOK_URL: "https://n8n.srv1106816.hstgr.cloud/webhook/595269c9-1640-45c9-9c2b-861a69417966",
    INITIAL_GREETING: "Hi there, how can I help today?",
    STARTER_OPTIONS: [
        "Show me the rooms",
        "Dining options",
        "Experiences & activities",
        "Availability & rates",
        "Contact the hotel team"
    ],
    TYPING_SPEED_MIN: 2,
    TYPING_SPEED_MAX: 8,
    ERROR_MESSAGE: "Connection error. Please try again.",
    SESSION_STORAGE_KEY: "hotel_session_id"
};

/* ========================================================================
   ELEMENT REFERENCES
========================================================================= */
const elements = {
    launcher: document.getElementById("hotel-chatbot-launcher"),
    chat: document.getElementById("hotel-chatbot"),
    closeBtn: document.getElementById("hotel-chat
